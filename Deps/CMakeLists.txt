CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(KrayoDeps)

IF(WIN32)
    # force using static runtime linking
    IF("${CMAKE_BUILD_TYPE}" STREQUAL "Debug")
        ADD_DEFINITIONS("/MTd")
    ELSE("${CMAKE_BUILD_TYPE}" STREQUAL "Debug")
        ADD_DEFINITIONS("/MT")
    ENDIF("${CMAKE_BUILD_TYPE}" STREQUAL "Debug")
ENDIF(WIN32)

# in case we get called as root CMakeLists.txt, ex from MSVC solution
IF(NOT DEFINED KRAYO_DEPS_DIRECTORY)
    SET(KRAYO_DEPS_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR})
ENDIF(NOT DEFINED KRAYO_DEPS_DIRECTORY)

IF(NOT WIN32)
ADD_SUBDIRECTORY(lkCommon)
ENDIF(NOT WIN32)

SET(SHADERC_SKIP_INSTALL ON CACHE BOOL "Skip installation")
SET(SHADERC_SKIP_TESTS ON CACHE BOOL "Skip building tests")
ADD_SUBDIRECTORY(shaderc/src)
